<div class="page-header">
    <h1>Room</h1>
    <h2>Manage your room below</h2>
</div>

<form [formGroup]="roomInfoForm" (ngSubmit)="submit()" novalidate autocomplete="off">
        <div class="form-group row">
            <label for="name" class="col-sm-2 col-form-label">Name</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" formControlName="name"
                [ngClass]="{'has-error': (roomInfoForm.get('name').touched || 
                roomInfoForm.get('name').dirty) && !roomInfoForm.get('name').valid }">
                <div class="error-block" *ngIf="roomInfoForm.get('name').errors">
                    <span class="error-block-text" *ngIf="(roomInfoForm.get('name').touched || 
                        roomInfoForm.get('name').dirty) &&
                        roomInfoForm.get('name').errors.required"> 
                        A name is required.
                    </span>
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label for="staticEmail" class="col-sm-2 col-form-label">Description</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" formControlName="description">
            </div>
        </div>
        <button *ngIf="!isUpdating" type="submit" class="btn wa-button-dark" [disabled]="!roomInfoForm.valid"
             [ngClass]="{'invalid-button': !roomInfoForm.valid }">Create</button>
        <button *ngIf="isUpdating" type="submit" class="btn wa-button-dark" [disabled]="!roomInfoForm.valid"
             [ngClass]="{'invalid-button': !roomInfoForm.valid }">Update</button>
    </form>

    <div class="page-section">
        <h1>Exits</h1>
        <h2>Manage the exits within your room below</h2>
            
        <simple-table (edit)="editClicked($event)" (delete)="deleteClicked($event)"
            [editAbility]="true" [deleteAbility]="true"></simple-table>

        <button *ngIf="createExitButtonVisible" type="button" class="btn wa-button-dark" (click)="createNewExit()">
            Create a new exit
        </button>   

        <router-outlet name="exit"></router-outlet>
                
    </div> 


    <div class="page-section">
        <h1>Monsters</h1>
        <h2>Manage the monsters within your room below</h2>
            
        <simple-table (edit)="editClicked($event)" (delete)="deleteClicked($event)"
            [editAbility]="true" [deleteAbility]="true"></simple-table>

        <button type="button" class="btn wa-button-dark" (click)="createNewMonster()">
            Create a new monster
        </button>

        <router-outlet name="monster"></router-outlet>
                
    </div> 

    <div class="page-section">
        <h1>Items</h1>
        <h2>Manage the items within your room below</h2>
            
        <simple-table (edit)="editClicked($event)" (delete)="deleteClicked($event)"
            [editAbility]="true" [deleteAbility]="true"></simple-table>

        <button *ngIf="createItemButtonVisible" type="button" class="btn wa-button-dark" (click)="createNewItem()">
            Create a new item
        </button>

        <router-outlet name="item"></router-outlet>
                
    </div> 

