<div class="page-header">
    <h1>Item</h1>
    <h2>Manage your item below</h2>
</div>

<form [formGroup]="itemInfoForm" (ngSubmit)="submit()" novalidate autocomplete="off">
        <div class="form-group row">
            <label for="name" class="col-sm-2 col-form-label">Name</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" formControlName="name"
                [ngClass]="{'has-error': (itemInfoForm.get('name').touched || 
                itemInfoForm.get('name').dirty) && !itemInfoForm.get('name').valid }">
                <div class="error-block" *ngIf="itemInfoForm.get('name').errors">
                    <span class="error-block-text" *ngIf="(itemInfoForm.get('name').touched || 
                        itemInfoForm.get('name').dirty) &&
                        itemInfoForm.get('name').errors.required"> 
                        A name is required.
                    </span>
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label for="description" class="col-sm-2 col-form-label">Description</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" formControlName="description">
            </div>
        </div>
        <div class="form-group row">
            <label for="type" class="col-sm-2 col-form-label">Type</label>
            <div class="col-sm-10">
                <select class="form-control" formControlName="type"
                    [ngClass]="{'has-error': (itemInfoForm.get('type').touched || 
                    itemInfoForm.get('type').dirty) && !itemInfoForm.get('type').valid }">
                    <option *ngFor="let itemType of itemTypes" value="{{itemType.type}}">{{itemType.type}}</option>
                </select>
                <span class="error-block" *ngIf="itemInfoForm.get('type').errors">
                    <span class="error-block-text" *ngIf="(itemInfoForm.get('type').touched || 
                        itemInfoForm.get('type').dirty) &&
                        itemInfoForm.get('type').errors.required"> 
                        An item type selection is required.
                    </span>
                </span>
            </div>
        </div>        
        <div class="form-group row">
            <label for="points" class="col-sm-2 col-form-label">Points</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" formControlName="points"
                [ngClass]="{'has-error': (itemInfoForm.get('points').touched || 
                itemInfoForm.get('points').dirty) && !itemInfoForm.get('points').valid }">
                <span class="error-block" *ngIf="itemInfoForm.get('points').errors">
                    <span class="error-block-text" *ngIf="(itemInfoForm.get('points').touched || 
                        itemInfoForm.get('points').dirty) &&
                        itemInfoForm.get('points').errors.pattern"> 
                        Points must be a number
                    </span>
                </span>
            </div>
        </div>
        <button *ngIf="!this.item" type="submit" class="btn wa-button-dark" [disabled]="!itemInfoForm.valid"
             [ngClass]="{'invalid-button': !itemInfoForm.valid }">Create</button>
        <button *ngIf="this.item" type="submit" class="btn wa-button-dark" [disabled]="!itemInfoForm.valid"
             [ngClass]="{'invalid-button': !itemInfoForm.valid }">Update</button>
    </form>
